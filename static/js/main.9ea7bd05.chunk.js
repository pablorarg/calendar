(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),s=n.n(r),o=(n(13),n(2)),i=n(3),l=new Date,d=l.getUTCFullYear(),u=l.getUTCMonth(),j=l.getUTCDate(),h=new Intl.DateTimeFormat("en",{month:"long"}),O=Object(i.a)(Array(12).keys()),b=function(e,t){var n=e.selectedMonth,c=e.selectedYear;switch(t.type){case"INIT":return{info:f(d),currentDay:j,currentMonth:u,currentYear:d,selectedMonth:u,selectedYear:d};case"NEXT_MONTH":return 11===e.selectedMonth?(n=0,c=e.selectedYear+1):n=e.selectedMonth+1,{info:f(c),currentDay:j,currentMonth:u,currentYear:d,selectedMonth:n,selectedYear:c};case"PREVIOUS_MONTH":return 0===e.selectedMonth?(n=11,c=e.selectedYear-1):n=e.selectedMonth-1,{info:f(c),currentDay:j,currentMonth:u,currentYear:d,selectedMonth:n,selectedYear:c};default:return e}};function f(e){return O.map((function(t){var n=h.format(new Date(d,t));return{daysOfMonth:new Date(d,(t+1)%12,0).getDate(),monthName:n,startsOn:new Date(e,t,1).getDay()}}))}var m=n(0),v=a.a.createContext({});function x(e){var t=e.children,n=Object(c.useReducer)(b,{info:{},currentDay:0,currentMonth:0,currentYear:0,selectedMonth:0,selectedYear:0}),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(m.jsx)(v.Provider,{value:{calendar:r,dispatch:s},children:t})}var y=v;n(15);function p(e){var t=e.onClick,n=e.text;return Object(m.jsx)("button",{className:"action-button",onClick:t,children:n})}function N(){var e=Object(c.useContext)(y);return{calendar:e.calendar,dispatch:e.dispatch}}function D(){var e=N().dispatch;return Object(m.jsxs)("section",{children:[Object(m.jsx)(p,{onClick:function(){e({type:"PREVIOUS_MONTH"})},text:"\u25c4"}),Object(m.jsx)(p,{onClick:function(){e({type:"INIT"})},text:"Today"}),Object(m.jsx)(p,{onClick:function(){e({type:"NEXT_MONTH"})},text:"\u25ba"})]})}n(16);function M(){var e=N().calendar,t=e.info[e.selectedMonth],n="".concat(t?t.monthName:""," ").concat(e.selectedYear);return Object(m.jsxs)("header",{className:"header-container",children:[Object(m.jsx)("h1",{children:n}),Object(m.jsx)(D,{})]})}var C=n(23),g=function(e,t){switch(t.type){case"ADD_EVENT":return[].concat(Object(i.a)(e),[{date:t.event.date,name:t.event.name,surname:t.event.surname,id:Object(C.a)()}]);case"REMOVE_EVENT":return e.filter((function(e){return e.id!==t.id}));default:return e}},w=Object(c.createContext)({});function T(e){var t=e.children,n=Object(c.useReducer)(g,[],(function(){var e=localStorage.getItem("events");return e?JSON.parse(e):[]})),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){localStorage.setItem("events",JSON.stringify(r))}),[r]),Object(m.jsx)(w.Provider,{value:{events:r,dispatch:s},children:t})}var E=w;function k(e){var t=Object(c.useContext)(E),n=t.events,a=t.dispatch,r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(c.useEffect)((function(){l(n.filter((function(t){return new Date(t.date).getMonth()===e})))}),[n,e]),{dispatch:a,eventsInMonth:i}}n(7);function Y(e){var t=e.event,n=e.handleClose,a=e.show,r=k().dispatch,s=Object(c.useState)(a),i=Object(o.a)(s,2),l=i[0],d=i[1],u=l?"modal display-block":"modal display-none";return Object(m.jsx)("div",{className:u,children:Object(m.jsxs)("form",{className:"modal modal-main",children:[Object(m.jsx)("h4",{children:t.name}),Object(m.jsx)("p",{children:t.surname}),Object(m.jsx)(p,{onClick:function(e){e.preventDefault(),r({type:"REMOVE_EVENT",id:t.id}),d(!1)},text:"Delete",type:"submit"}),Object(m.jsx)(p,{onClick:n,text:"Close"})]})})}function I(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=function(){r(!a)},i=a&&Object(m.jsx)(Y,{event:e.event,handleClose:s,show:a});return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"days-events",onClick:s,children:e.event.name.charAt(0).toUpperCase()+e.event.surname.charAt(0).toUpperCase()}),i]})}function S(e){var t=e.selectedDay,n=void 0===t?0:t,a=e.handleClose,r=e.show,s=N().calendar,i=k().dispatch,l=Object(c.useState)(null),d=Object(o.a)(l,2),u=d[0],j=d[1],h=Object(c.useState)(null),O=Object(o.a)(h,2),b=O[0],f=O[1],v=r?"modal display-block":"modal display-none";return Object(m.jsx)("div",{className:v,children:Object(m.jsxs)("section",{className:"modal modal-main",children:[Object(m.jsx)("h4",{children:"Create event"}),Object(m.jsxs)("form",{className:"event-content",onSubmit:function(e){e.preventDefault(),u&&b&&(i({type:"ADD_EVENT",event:{date:new Date(s.selectedYear,s.selectedMonth,n),name:u,surname:b}}),a())},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Name"}),Object(m.jsx)("input",{autoFocus:"autoFocus",onChange:function(e){j(e.target.value)},placeholder:"Ren\xe9..",type:"text"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Surname"}),Object(m.jsx)("input",{type:"text",onChange:function(e){f(e.target.value)},placeholder:"Descartes.."})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{type:"submit",text:"Add"}),Object(m.jsx)(p,{onClick:a,text:"Maybe later"})]})]})]})})}n(17);function F(e){var t=e.dayNumber,n=e.events,a=void 0===n?[]:n,r=e.isCurrentDate,s=void 0!==r&&r,i=e.isFirstOfTheMonth,l=void 0!==i&&i,d=e.startsOn,u=void 0===d?0:d,j=Object(c.useState)(!1),h=Object(o.a)(j,2),O=h[0],b=h[1],f={"--first-day-start":u},v=l?"day-item first-day":"day-item",x=t&&s?"day-number current-day ":"day-number",y=function(){b(!O)},p=O&&Object(m.jsx)(S,{handleClose:y,selectedDay:t,show:O}),N=a.length>0&&a.map((function(e,t){return Object(m.jsx)(I,{event:e},t)}));return Object(m.jsxs)("li",{className:v,style:f,children:[Object(m.jsxs)("div",{className:"header-section hover-to-show-action",onClick:y,children:[Object(m.jsx)("span",{className:"hover-to-show",children:"+"}),Object(m.jsx)("p",{className:x,children:t})]}),Object(m.jsx)("div",{className:"days-events-container",children:N}),p]})}n(18);function A(){var e=Object(i.a)(Array(7).keys()),t=new Intl.DateTimeFormat("en-us",{weekday:"short"}),n=e.map((function(e){return t.format(new Date(2021,7,e+1))}));return Object(m.jsx)("ol",{className:"list-days-name",children:n.map((function(e){return Object(m.jsx)("li",{className:"weekday",children:e},e)}))})}n(19);function V(e){e.currentDay;var t=N().calendar,n=k(t.selectedMonth).eventsInMonth;if(0===t.currentDay)return Object(m.jsx)(m.Fragment,{});return Object(m.jsxs)("div",{className:"month-container",children:[Object(m.jsx)(A,{}),Object(m.jsx)("ol",{className:"list-days",children:function(e){var c=Object(i.a)(Array(t.info[e].daysOfMonth).keys()),a=t.info[e].startsOn+1,r=t.selectedYear===t.currentYear&&t.selectedMonth===t.currentMonth;return c.map((function(e){var c=e+1,s=new Date(t.selectedYear,t.selectedMonth,c),o=n.filter((function(e){return new Date(e.date).getDate()===s.getDate()}));return Object(m.jsx)(F,{dayNumber:c,events:o,isCurrentDate:r&&t.currentDay===c,isFirstOfTheMonth:1===c,startsOn:a},e)}))}(t.selectedMonth)})]})}n(20);function _(){var e=N().dispatch;return Object(c.useEffect)((function(){e({type:"INIT"})}),[]),Object(m.jsxs)("section",{className:"calendar-container",children:[Object(m.jsx)(M,{}),Object(m.jsx)(T,{children:Object(m.jsx)(V,{})})]})}function R(){return Object(m.jsx)(x,{children:Object(m.jsx)(_,{})})}var U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),U()}],[[21,1,2]]]);
//# sourceMappingURL=main.9ea7bd05.chunk.js.map